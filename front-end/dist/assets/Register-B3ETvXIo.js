import{r as l,I as R,F as s,u as b,a as T,j as e,q as f,T as y,s as x,v as o,x as v,B as F,y as A,L as q}from"./index-VurQmCUs.js";import{R as E}from"./UserOutlined-CezXzpmV.js";import{R as O}from"./MailOutlined-Dwfttr0G.js";import{R as h}from"./LockOutlined-CHMx0YPp.js";var S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136V232h752v560zM610.3 476h123.4c1.3 0 2.3-3.6 2.3-8v-48c0-4.4-1-8-2.3-8H610.3c-1.3 0-2.3 3.6-2.3 8v48c0 4.4 1 8 2.3 8zm4.8 144h185.7c3.9 0 7.1-3.6 7.1-8v-48c0-4.4-3.2-8-7.1-8H615.1c-3.9 0-7.1 3.6-7.1 8v48c0 4.4 3.2 8 7.1 8zM224 673h43.9c4.2 0 7.6-3.3 7.9-7.5 3.8-50.5 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H522a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.6-126.1a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1c-.4 4.6 3.2 8.4 7.8 8.4zm149-262c28.5 0 51.7 23.3 51.7 52s-23.2 52-51.7 52-51.7-23.3-51.7-52 23.2-52 51.7-52z"}}]},name:"idcard",theme:"outlined"};function c(){return c=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},c.apply(this,arguments)}const B=(a,r)=>l.createElement(R,c({},a,{ref:r,icon:S})),p=l.forwardRef(B),{Title:_,Text:$}=y,{Option:j}=v,H=()=>{const[a]=s.useForm(),[r,t]=l.useState(""),[n,m]=l.useState(""),[w,d]=l.useState(!1),{register:I}=b(),P=T(),z=async i=>{d(!0),t(""),m("");try{console.log(i),await I(i),m("Registration successful! Please check your email to activate your account."),a.resetFields(),setTimeout(()=>{P("/login")},3e3)}catch(u){t(u.message||"An error occurred during registration")}finally{d(!1)}};return e.jsxs(f,{className:"register-card",style:{maxWidth:500,margin:"0 auto",marginTop:50},children:[e.jsx(_,{level:2,style:{textAlign:"center",marginBottom:30},children:"Create Account"}),r&&e.jsx(x,{message:r,type:"error",showIcon:!0,style:{marginBottom:20}}),n&&e.jsx(x,{message:n,type:"success",showIcon:!0,style:{marginBottom:20}}),e.jsxs(s,{form:a,name:"register",onFinish:z,layout:"vertical",scrollToFirstError:!0,children:[e.jsx(s.Item,{name:"username",rules:[{required:!0,message:"Please enter your username"},{min:3,message:"Username must be at least 3 characters long"},{pattern:/^[a-zA-Z0-9_]+$/,message:"Username can only contain letters, numbers and underscores"}],children:e.jsx(o,{prefix:e.jsx(E,{}),placeholder:"Username",size:"large"})}),e.jsx(s.Item,{name:"email",rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Please enter a valid email"}],children:e.jsx(o,{prefix:e.jsx(O,{}),placeholder:"Email",size:"large"})}),e.jsxs("div",{style:{display:"flex",gap:"16px"},children:[e.jsx(s.Item,{name:"first_name",style:{flex:1},rules:[{required:!0,message:"Please enter your first name"}],children:e.jsx(o,{prefix:e.jsx(p,{}),placeholder:"First Name",size:"large"})}),e.jsx(s.Item,{name:"last_name",style:{flex:1},rules:[{required:!0,message:"Please enter your last name"}],children:e.jsx(o,{prefix:e.jsx(p,{}),placeholder:"Last Name",size:"large"})})]}),e.jsx(s.Item,{name:"role",rules:[{required:!0,message:"Please select your role"}],children:e.jsxs(v,{placeholder:"Select your role",size:"large",children:[e.jsx(j,{value:"student",children:"Student"}),e.jsx(j,{value:"advisor",children:"Advisor"})]})}),e.jsx(s.Item,{name:"password",rules:[{required:!0,message:"Please enter your password"},{min:6,message:"Password must be at least 6 characters long"}],hasFeedback:!0,children:e.jsx(o.Password,{prefix:e.jsx(h,{}),placeholder:"Password",size:"large"})}),e.jsx(s.Item,{name:"confirm_password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password"},({getFieldValue:i})=>({validator(u,g){return!g||i("password")===g?Promise.resolve():Promise.reject(new Error("The two passwords do not match"))}})],children:e.jsx(o.Password,{prefix:e.jsx(h,{}),placeholder:"Confirm Password",size:"large"})}),e.jsx(s.Item,{children:e.jsx(F,{type:"primary",htmlType:"submit",loading:w,block:!0,size:"large",children:"Register"})}),e.jsx(A,{}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx($,{children:"Already have an account? "}),e.jsx(q,{to:"/login",children:"Login"})]})]})]})},{Title:M}=y,U=()=>e.jsx(f,{children:e.jsx(H,{})});export{U as default};
