import{F as s,r as m,u as v,a as b,b as w,j as e,q as u,T as g,s as I,v as c,w as L,L as d,B as T}from"./index-VurQmCUs.js";import{R}from"./UserOutlined-CezXzpmV.js";import{R as F}from"./LockOutlined-CHMx0YPp.js";const{Title:P,Text:A}=g,k=()=>{var i,l;const[h]=s.useForm(),[a,o]=m.useState(""),[x,n]=m.useState(!1),{login:p}=v(),t=b(),j=((l=(i=w().state)==null?void 0:i.from)==null?void 0:l.pathname)||"/",f=async y=>{n(!0),o("");try{const r=await p(y);r.role==="student"?t("/student/dashboard"):r.role==="advisor"?t("/advisor/dashboard"):r.role==="admin"?t("/admin/dashboard"):t(j)}catch(r){o(r.message||"An error occurred during login")}finally{n(!1)}};return e.jsxs(u,{className:"login-card",style:{maxWidth:400,margin:"0 auto",marginTop:50},children:[e.jsx(P,{level:2,style:{textAlign:"center",marginBottom:30},children:"Login"}),a&&e.jsx(I,{message:a,type:"error",showIcon:!0,style:{marginBottom:20}}),e.jsxs(s,{form:h,name:"login",initialValues:{remember:!0},onFinish:f,layout:"vertical",children:[e.jsx(s.Item,{name:"email",rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Please enter a valid email"}],children:e.jsx(c,{prefix:e.jsx(R,{}),placeholder:"Email",size:"large"})}),e.jsx(s.Item,{name:"password",rules:[{required:!0,message:"Please enter your password"}],children:e.jsx(c.Password,{prefix:e.jsx(F,{}),placeholder:"Password",size:"large"})}),e.jsxs(s.Item,{children:[e.jsx(s.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:e.jsx(L,{children:"Remember me"})}),e.jsx(d,{to:"/forgot-password",style:{float:"right"},children:"Forgot password?"})]}),e.jsx(s.Item,{children:e.jsx(T,{type:"primary",htmlType:"submit",loading:x,block:!0,size:"large",children:"Login"})}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(A,{children:"Don't have an account? "}),e.jsx(d,{to:"/register",children:"Register"})]})]})]})},{Title:N}=g,S=()=>e.jsx(u,{children:e.jsx(k,{})});export{S as default};
